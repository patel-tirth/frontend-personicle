<html>
<head>
  <script type="text/javascript" src="sample_events.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['timeline']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var container = document.getElementById('timeline');
      var chart = new google.visualization.Timeline(container);
      
     function endDateInMilliseconds(startDate, duration) {

        var startDate = new Date(startDate); // some mock date
        console.log(startDate);
        var startDateInMS = startDate.getTime(); 
        //console.log("startDateInMS " + startDateInMS);
        var endDateInMS = startDateInMS + duration
        //console.log("endDateInMS " + endDateInMS);
        return endDateInMS;
     }

     var endDate = endDateInMilliseconds(sample_events[0].startTime, sample_events[0].duration);

     function GFG_Fun(endDateInMS) {
            var endDate = new Date(endDateInMS);
            //console.log("endDate " + endDate);
            return endDate;
        }

    GFG_Fun(endDate);

    var data = new google.visualization.DataTable();

    data.addColumn({ type: 'string', id: 'Events' });
    data.addColumn({ type: 'string', id: 'Task ID' });
    data.addColumn({ type: 'date', id: 'Start Date' });
    data.addColumn({ type: 'date', id: 'End Date' });
        sample_events.forEach(event => 
        {
        // var year = new Date(event.startTime).getFullYear();
        // var month = new Date(event.startTime).getMonth();
        // var day = new Date(event.startTime).getDate();
        // var hour = new Date(event.startTime).getHours();
        // var minute = new Date(event.startTime).getMinutes();
        // var second = new Date(event.startTime).getSeconds();
        // console.log(year, month, day, hour, minute, second)
          
          data.addRow([event.activityName, event.logId.toString(), new Date(event.startTime), GFG_Fun(endDateInMilliseconds(event.startTime, event.duration))]);
        });

      var options = {
        height: 275,
        timeline: { groupByRowLabel: true}, 
        displayAnnotations: true
      };

      chart.draw(data, options);

    };
  </script>
</head>
<body>
  <div id="timeline"></div>
</body>
</html>
